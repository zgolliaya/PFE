pipeline {
    agent any
    
    stages {
        stage('Checkout') {
            steps {
                   git branch: 'B2B', url: 'https://github.com/zgolliaya/PFE.git'
            }
        }
        
        
        stage('Run Tests') {
            steps {
              
               sh "pip install robotframework-seleniumlibrary"
               sh "  apt-get update -y "
               sh "  apt-get install -y chromium-driver "
               

               sh "robot ./test1/addoperator1.robot"

                
            }
        }
    }

  post {
    always {
      script {
      step([
    $class : 'RobotPublisher',
    outputPath :'./',
    outputFileName : "*.xml",
    disableArchiveOutput : false,
    passThreshold : 0,
    unstableThreshold: 0,
    otherFiles : "*.png",
])
      }
    }
  }
    
}
