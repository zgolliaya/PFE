pipeline {
    agent any
    
    stages {
        stage('Checkout') {
            steps {
                   git branch: 'B2B', url: 'https://github.com/zgolliaya/PFE.git'
            }
        }
        
        
        stage('Run Tests') {
            steps {
              
               sh "pip install robotframework-seleniumlibrary"
               sh "  apt-get update -y "
               sh "  apt-get install -y chromium-driver "
               

               sh "robot ./test1/*.robot"
               step(
             [
            $class              : 'RobotPublisher',
             outputPath          : './robot-framework-results',
             outputFileName      : 'output.xml',
             disableArchiveOutput: true,
            logFileName         : 'log.html',
            reportFileName      : 'report.html',
             passThreshold       : 95,
             unstableThreshold   : 90,
             onlyCritical        : false
             ]
            )
                
            }
        }
    }
    
    
}

